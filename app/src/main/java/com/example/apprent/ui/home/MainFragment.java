package com.example.apprent.ui.home;import android.os.Bundle;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import androidx.annotation.NonNull;import androidx.annotation.Nullable;import androidx.fragment.app.Fragment;import androidx.lifecycle.ViewModelProvider;import androidx.recyclerview.widget.LinearLayoutManager;import androidx.recyclerview.widget.RecyclerView;import androidx.viewpager2.widget.ViewPager2;import com.example.apprent.R;import com.example.apprent.ui.common.adapters.ImagesPagerAdapter;import com.example.apprent.ui.home.adapters.UserOrdersAdapter;import com.example.apprent.ui.main_activity.MainActivity;public class MainFragment extends Fragment {    private MainFragmentVM vm;    private MainFragment mainFragment;    @Override    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {        super.onViewCreated(view, savedInstanceState);        this.mainFragment = this;//        MainActivityVM mainActivityVM = ((MainActivity) getActivity()).getVM();//todo   | ? |        ViewPager2 bannerPager = view.findViewById(R.id.banner_view_pager);        RecyclerView ordersList = view.findViewById(R.id.user_orders);        vm = new ViewModelProvider(this).get(MainFragmentVM.class);        ordersList.setLayoutManager(new LinearLayoutManager(requireContext(), LinearLayoutManager.HORIZONTAL, false));        vm.loadBanners();        vm.loadOrders(getContext(), "expected");        vm.getBannerLinks().observe(getViewLifecycleOwner(), strings -> {            ImagesPagerAdapter imagesPagerAdapter = new ImagesPagerAdapter(mainFragment, strings);            bannerPager.setAdapter(imagesPagerAdapter);        });        vm.getOrdersList().observe(getViewLifecycleOwner(), orders -> {            UserOrdersAdapter adapter = new UserOrdersAdapter(orders, getContext());            ordersList.setAdapter(adapter);        });    }    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container,                             Bundle savedInstanceState) {        View view = inflater.inflate(R.layout.fragment_main, container, false);        ((MainActivity) getActivity()).getTopAppBar().getMenu().findItem(R.id.action_search).setVisible(false);        return view;    }}